{% load static %}
<div class="courses-grid">
  <h4>University Students</h4>
  <div class="row">
    {% if instructor_page_obj %}
      {% for instructor in instructor_page_obj %}
        <div class="col-lg-4 col-md-6 col-sm-12 course-item" data-aos="fade-up" data-aos-delay="200">
          <div class="course-card">
            <div class="course-image">
              {% if instructor.user.profile_pic %}
                <img src="{{ instructor.user.profile_pic.url }}" class="img-fluid" alt="{{ instructor.user.first_name }}">
              {% else %}
                <img src="{% static 'assets/img/default-avatar.webp' %}" class="img-fluid" alt="{{ instructor.user.first_name }}">
              {% endif %}

              <!-- Skills count badge -->
              <div class="course-badge badge-left">
                 <i class="bi bi-award"></i>
                <span>{{ instructor.skills_count }} Skills</span>
              </div>

              <!-- Rating -->
              <div class="course-badge badge-right rating-stars">
                <i class="bi bi-star-fill"></i>
                <i class="bi bi-star-fill"></i>
                <i class="bi bi-star-fill"></i>
                <i class="bi bi-star-fill"></i>
                <i class="bi bi-star-half"></i>
                <span>4.8</span>
              </div>
            </div>
            <div class="course-content">
              <div class="course-meta">
                <span class="category">{{ instructor.user.department.name|default:"Student" }}</span>
                <span class="level">Year {{ instructor.user.year }}</span>
              </div>
              <h3>{{ instructor.user.first_name }} {{ instructor.user.last_name }}</h3>
              <p>{{ instructor.user.bio|default:"A passionate student sharing knowledge and skills."|truncatewords:15 }}</p>
              
              <!-- Skills -->
              <div class="skills-list mb-3">
                <small class="text-muted">Skills:</small>
                <div class="d-flex flex-wrap gap-1 mt-1">
                  {% for skill in instructor.skills|slice:":3" %}
                    <span class="badge bg-primary">{{ skill.name }}</span>
                  {% endfor %}
                  {% if instructor.skills_count > 3 %}
                    <span class="badge bg-secondary">+{{ instructor.skills_count|add:"-3" }} more</span>
                  {% endif %}
                </div>
              </div>

              <a href="{% url 'category_skills:instructor_profile' instructor.user.id %}" class="btn-course">View Profile -></a>
            </div>
          </div>
        </div>
      {% endfor %}
    {% else %}
      <div class="col-12">
        <div class="text-center py-5">
          <h4>No instructors available</h4>
          <p>No users have added skills to their profiles yet.</p>
        </div>
      </div>
    {% endif %}
  </div>
</div>

{% include "include/pagination.html" with page_obj=instructor_page_obj page_param="instr_page" section="instructors" %}
